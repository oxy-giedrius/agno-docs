---
title: Oxylabs Agent
---

import { Steps, Step, CodeGroup } from '@components'

This example shows how to build an **Agno Agent** that leverages **MCPTools** to route all scraping requests to Oxylabs’ Web Scraper API.
The agent can search and extract data from any public website with plain‑language instructions.

---

## Code

```python oxylabs_agent.py
import asyncio, os
from agno.agent import Agent
from agno.models.google import Gemini
from agno.tools.mcp import MCPTools

async def run_agent_prompt():
    # Spin up an MCP server that exposes Oxylabs routes
    async with MCPTools(
        command="uvx oxylabs-mcp",
        env={
            "OXYLABS_USERNAME": os.getenv("OXYLABS_USERNAME"),
            "OXYLABS_PASSWORD": os.getenv("OXYLABS_PASSWORD"),
        },
    ) as server:
        agent = Agent(
            model=Gemini(api_key=os.getenv("GEMINI_API_KEY")),
            tools=[server],
            instructions=["Use MCP tools to fulfil the requests"],
            markdown=True,
        )
        await agent.aprint_response(
            "Go to oxylabs.io, look for career page, go to it and "
            "return all job titles in markdown format. "
            "Don't invent URLs, start from one provided."
        )

if __name__ == "__main__":
    asyncio.run(run_agent_prompt())
```

---

## Usage

<Steps>

<Step title="Create a virtual environment">
<CodeGroup>
```bash Mac
python3 -m venv .venv
source .venv/bin/activate
```

```bash Windows
python -m venv .venv
.venv\Scripts\activate
```
</CodeGroup>
</Step>

<Step title="Install libraries">
```bash
pip install -U agno mcp-tools google-generativeai
```
</Step>

<Step title="Set environment variables">
```bash
export OXYLABS_USERNAME=<your_oxylabs_username>
export OXYLABS_PASSWORD=<your_oxylabs_password>
export GEMINI_API_KEY=<your_gemini_api_key>   # or set GOOGLE_API_KEY
```
</Step>

<Step title="Run the agent">
```bash
python cookbook/examples/agents/oxylabs_agent.py
```
</Step>

</Steps>

---

## Sample output

```console
┏━ Message ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                              ┃
┃ Go to oxylabs.io, look for career page, go to it and return all job titles   ┃
┃ in markdown format. Don't invent URLs, start from one provided.              ┃
┃                                                                              ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
┏━ Tool Calls ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                              ┃
┃ • universal_scraper(url=https://oxylabs.io, output_format=links)             ┃
┃ • universal_scraper(url=https://career.oxylabs.io/, output_format=md)        ┃
┃                                                                              ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
┏━ Response (9.7 s) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                              ┃
┃ Here are the job titles from the Oxylabs career page:                        ┃
┃                                                                              ┃
┃ • Paid Internship: Information Security Team                                 ┃
┃ • Technical Customer Success Specialist (Evening Shift)                      ┃
┃ • Technical Customer Success Specialist (Night Shift)                        ┃
┃ • Data Analyst                                                               ┃
┃ • Data Engineer                                                              ┃
┃ • Data Engineer (AI projects)                                                ┃
┃ • ...                                                                        ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
```

Happy scraping! 🕸️
